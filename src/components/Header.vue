<template>
  <div class="box-card-Header">
    <el-menu
      :default-active="activeIndex"
      class="el-menu-demo"
      mode="horizontal"
      active-text-color="#409EFF"
      router
    >
      <el-menu-item index="/about">关于我</el-menu-item>
      <el-menu-item index="/articles">学无止境</el-menu-item>
      <el-menu-item index="/compiler">文章分享</el-menu-item>
      <el-menu-item index="/socket">聊天室</el-menu-item>
      <el-menu-item index="/user">个人中心</el-menu-item>
    </el-menu>

    <div class="nickname" v-if="isLogin || nickname">
      <el-tooltip
        class="item"
        effect="dark"
        content="退出登录"
        placement="bottom"
      >
        <span class="nickname-svg" @click="logout">
          <svg
            t="1682298836366"
            class="icon"
            viewBox="0 0 1024 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="2525"
            width="16"
            height="16"
          >
            <path
              d="M706.559974 430.079943a27.306663 27.306663 0 0 1-27.306663-27.306663V181.998909H573.439992a27.306663 27.306663 0 1 1 0-54.613326h130.525849a30.037329 30.037329 0 0 1 30.037329 30.037329v245.759968a27.306663 27.306663 0 0 1-27.443196 26.897063z m-2.730666-248.081034zM703.829308 896.61428H573.439992a27.306663 27.306663 0 0 1 0-54.613326h105.949852V625.732183a27.306663 27.306663 0 0 1 54.613326 0v240.844768a30.037329 30.037329 0 0 1-30.173862 30.037329z"
              fill="#0073FF"
              p-id="2526"
            ></path>
            <path
              d="M573.439992 896.61428a27.306663 27.306663 0 0 1-27.306663-27.306663V154.692246a27.306663 27.306663 0 0 1 54.613326 0v714.615371a27.306663 27.306663 0 0 1-27.306663 27.306663z"
              fill="#0073FF"
              p-id="2527"
            ></path>
            <path
              d="M201.386708 184.729575a27.306663 27.306663 0 0 1-27.306663-27.306663v-4.915199A30.310396 30.310396 0 0 1 194.150442 122.879984L562.107727 1.501866a29.218129 29.218129 0 0 1 26.077863 3.959467A30.446929 30.446929 0 0 1 600.746655 30.173863v124.518383a27.306663 27.306663 0 0 1-54.613326 0V64.307191L225.280038 170.666644a27.306663 27.306663 0 0 1-23.89333 14.062931z m377.924216-131.345049zM571.255459 1023.999863a29.218129 29.218129 0 0 1-9.284266-1.501866L194.286976 901.11988a30.446929 30.446929 0 0 1-20.206931-29.21813v-4.915199a27.306663 27.306663 0 0 1 51.199993-13.653331L546.133329 959.692672v-90.385055a27.306663 27.306663 0 0 1 54.613326 0v124.518384a30.446929 30.446929 0 0 1-12.424532 24.71253 29.081596 29.081596 0 0 1-17.066664 5.461332z m7.918932-53.384526z"
              fill="#0073FF"
              p-id="2528"
            ></path>
            <path
              d="M201.386708 893.883614a27.306663 27.306663 0 0 1-27.306663-27.306663V157.422912a27.306663 27.306663 0 0 1 54.613326 0v709.154039a27.306663 27.306663 0 0 1-27.306663 27.306663zM464.21334 539.306595h-50.380794a27.306663 27.306663 0 1 1 0-54.613326H464.21334a27.306663 27.306663 0 0 1 0 54.613326zM912.179147 539.306595H655.359981a27.306663 27.306663 0 0 1 0-54.613326h256.819166a27.306663 27.306663 0 0 1 0 54.613326z"
              fill="#0073FF"
              p-id="2529"
            ></path>
            <path
              d="M917.777013 539.306595a27.306663 27.306663 0 0 1-19.251198-8.055466l-103.492253-103.492253a27.306663 27.306663 0 0 1 38.638928-38.638928l103.492253 103.492253a27.306663 27.306663 0 0 1-19.251197 46.55786z"
              fill="#0073FF"
              p-id="2530"
            ></path>
            <path
              d="M814.28476 642.798848a27.306663 27.306663 0 0 1-19.251198-46.557861l103.492253-103.492253a27.306663 27.306663 0 1 1 38.638928 38.638928l-103.628786 103.492253a27.306663 27.306663 0 0 1-19.251197 7.918933z"
              fill="#0073FF"
              p-id="2531"
            ></path></svg
        ></span>
      </el-tooltip>
      <span>{{ nickname }}</span>
      <img src="@/assets/2281.png_860.png" alt="欢迎" />
    </div>
    <div v-else class="login">
      <div @click="loginBtn('login')" class="login-svg">
        <svg
          t="1682319364194"
          class="icon"
          viewBox="0 0 1870 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="4535"
          width="32"
          height="32"
        >
          <path
            d="M807.294308 496.669005c-12.430537-11.601834-24.861074-24.861074-36.462908-38.120313l-436.44996 0-37.29161 38.120313L155.450769 496.669005c37.29161-38.120313 71.268411-74.514162 101.032641-110.148368C221.746965 336.867548 190.256272 284.659293 160.492042 230.03399l113.463178 0C287.974103 255.654707 302.890747 280.515781 318.636094 305.376855 341.01106 273.057459 360.899919 241.635824 379.131373 207.659023c2.486107-4.972215 1.657405-9.944429-0.828702-14.916644C374.987861 187.770165 370.015646 185.284057 365.043431 185.284057L155.450769 183.626652 155.450769 138.117076l303.995684 0c15.745347 0 29.833288 7.458322 38.051254 20.717561 9.944429 13.259239 11.601834 28.935527 5.800917 43.852172-30.592932 70.439709-74.514162 142.467764-129.208524 209.592663l357.792285 0C664.826544 326.923118 605.229026 224.233073 550.534664 114.015646l122.578905 0C684.784462 138.117076 696.317238 161.251686 709.576477 183.626652l21.546264-50.55085 110.97707 0c-21.546264 53.86566-43.092528 106.004856-68.713245 154.069598 8.287025 12.430537 15.745347 24.861074 24.861074 36.462908 9.944429-20.717561 19.060156-42.263825 28.175883-63.810089l110.97707 0c-20.717561 53.86566-43.92123 106.004856-69.541948 154.898301 22.374966 28.175883 45.578635 55.523064 70.439709 82.041543L807.294308 496.738063zM157.108174 847.072026l132.523334 0-37.29161-99.375236 125.065012 0 38.120313 99.375236 264.217966 0 36.462908-99.375236 125.893715 0-36.393849 99.375236 131.694632 0 0 47.23604L157.108174 894.308066 157.108174 847.072026zM217.603453 568.766118c0-30.661991 24.861074-55.523064 54.694362-55.523064l549.913137 0c29.833288 0 53.86566 24.861074 53.86566 55.523064l0 101.032641c0 31.490693-24.032371 55.523064-53.86566 55.523064L272.297815 725.321824c-29.833288 0-54.694362-24.032371-54.694362-55.523064L217.603453 568.766118zM751.0116 591.969787c0-16.574049-14.087942-31.490693-31.490693-31.490693L374.987861 560.479094c-17.402752 0-31.490693 14.916644-31.490693 31.490693l0 54.694362c0 17.402752 14.087942 31.490693 31.490693 31.490693l344.533046 0c17.402752 0 31.490693-14.087942 31.490693-31.490693L751.0116 591.969787z"
            p-id="4536"
            fill="#1296db"
          ></path>
          <path
            d="M1055.421635 277.200971l545.009981 0L1600.431616 210.145131c0-17.402752-14.087942-31.490693-31.490693-31.490693l-543.352576 0L1025.588346 131.418398l645.21392 0c29.833288 0 55.523064 25.689776 55.523064 55.523064l0 236.870785 40.60642 0 0 47.23604-329.616401 0 0 370.222822c0 30.661991-24.861074 55.523064-54.694362 55.523064l-156.555705 0 0-47.23604 53.86566 0c17.402752 0 31.490693-14.087942 31.490693-31.490693L1311.421635 471.048287l-327.130294 0L984.291341 423.812247l616.209334 0L1600.500674 324.437011l-545.009981 0L1055.490693 277.200971zM1196.231994 687.201511c-16.574049 77.828972-35.634206 148.199622-67.05584 211.181009l-127.55112 0c29.833288-66.227138 54.694362-135.838144 68.782304-211.181009L1196.231994 687.201511zM1070.338279 648.321554l-47.23604-137.495549 125.893715 0 47.23604 137.495549L1070.338279 648.321554zM1539.107634 648.321554l47.23604-137.495549 125.893715 0L1665.001349 648.321554 1539.107634 648.321554zM1665.001349 687.201511c14.916644 75.342865 38.879957 144.953871 68.713245 211.181009l-127.55112 0c-31.490693-62.912328-50.55085-133.352037-67.124899-211.181009L1665.001349 687.201511z"
            p-id="4537"
            fill="#1296db"
          ></path>
        </svg>
      </div>
      <div class="login-svg" @click="loginBtn('register')">
        <svg
          t="1682320440936"
          class="icon"
          viewBox="0 0 1870 1024"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
          p-id="5669"
          width="32"
          height="32"
        >
          <path
            d="M154.691125 898.451578c42.194767-101.861343 69.541948-189.634745 84.458592-307.241435L362.557324 591.210143c-16.574049 115.051524-43.92123 225.268951-83.629889 307.241435L154.691125 898.451578zM225.890477 298.816293 172.922579 128.172646l125.065012 0L350.126787 298.816293 225.890477 298.816293zM237.492312 532.30321l-54.694362-183.005125 125.065012 0 53.796601 183.005125L237.492312 532.30321zM408.135959 602.811977 408.135959 555.575937l184.66253 0L592.798489 320.293499 390.733207 320.293499 390.733207 273.126517l533.408147 0 0 47.23604-204.551389 0 0 235.282439 186.388994 0 0 47.23604-186.388994 0 0 235.21338 220.296736 0 0 47.23604L375.816563 885.330456l0-47.23604 216.981926 0L592.798489 602.811977 408.135959 602.811977zM594.455894 242.464527 561.376855 110.769895l127.55112 0 32.319396 131.694632L594.455894 242.464527z"
            p-id="5670"
            fill="#1296db"
          ></path>
          <path
            d="M984.153224 495.080658l31.559752 0L1015.712975 188.598867c0-30.592932 24.032371-55.454006 54.625303-55.454006l226.926356 0c30.661991 0 54.694362 24.792015 54.694362 55.454006l0 306.481791 48.824386 0L1400.783383 188.598867c0-30.592932 25.689776-55.454006 55.523064-55.454006l226.926356 0c30.592932 0 55.523064 24.792015 55.523064 55.454006l0 306.481791 28.106825 0 0 47.23604-28.106825 0 0 301.509576c0 29.833288-24.861074 55.454006-55.523064 55.454006l-123.407607 0 0-47.23604 30.592932 0c13.259239 0 24.032371-10.773132 24.032371-24.032371L1614.450499 542.316698l-90.259509 0 0 179.690316c0 73.754518-13.190181 135.838144-30.592932 177.204208l-122.578905 0c16.574049-40.60642 29.833288-101.861343 29.833288-177.204208L1400.852441 542.316698l-48.824386 0 0 301.509576c0 29.833288-24.032371 55.454006-54.694362 55.454006l-122.509846 0 0-47.23604 30.592932 0c12.430537 0 23.203669-10.773132 23.203669-24.032371L1228.620448 542.316698l-90.328568 0 0 179.690316c0 73.754518-12.499595 135.838144-29.833288 177.204208l-122.578905 0c16.574049-40.60642 29.902347-101.861343 29.902347-177.204208L1015.782034 542.316698l-31.559752 0L984.222282 495.080658zM1138.29188 495.080658l90.328568 0 0-290.736445c0-13.259239-10.773132-24.032371-23.203669-24.032371L1162.255193 180.311842c-14.087942 0-24.032371 10.704073-24.032371 24.032371L1138.222822 495.080658zM1524.260049 495.080658l90.259509 0 0-290.736445c0-13.259239-10.704073-24.032371-24.032371-24.032371l-43.023469 0c-13.190181 0-23.203669 10.704073-23.203669 24.032371L1524.260049 495.080658z"
            p-id="5671"
            fill="#1296db"
          ></path>
        </svg>
      </div>
      <!-- <el-button type="primary" >注册</el-button> -->
    </div>
  </div>
</template>

<script>
import { mapState } from "vuex";
export default {
  data() {
    return {
      activeIndex: "/about"
    };
  },
  created() {
    this.setCurrentRoute()

  },
  methods: {
    loginBtn(data) {
      this.$store.dispatch("modal/formType", data);
    },
    setCurrentRoute() {
      if (this.$route.path.match(/^\/articles/)?.[0]) {
        this.activeIndex = this.$route.path.match(/^\/articles/)[0]
        return false
      }
      this.activeIndex = this.$route.path
    },
    logout() {
      this.$store.commit("LOGOUT")
      this.$message.success("退出登录")
    }
  },
  computed: {
    ...mapState(["isLogin", "nickname"]),
  },
  watch: {
    $route() {
      this.setCurrentRoute()
    }
  }
};
</script>

<style scoped lang="less">
/deep/.el-menu .el-menu-item:hover {
  color: #2e95fb !important;
}

.box-card-Header {
  display: flex;
  justify-content: space-between;
  margin: 15px;
  height: 60px;
  z-index: 5;
  border-radius: 10px;
  background-color: #fff;
  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);

  .el-menu {
    display: flex;
    justify-content: space-between;
    width: 80%;
    border-radius: 10px;

    .el-menu-item {
      font-size: 18px;
      font-weight: 700;
    }
  }

  .login {
    display: flex;
    align-items: center;
    margin-right: 20px;
    gap: 15px;

    .login-svg {
      width: 50px;
      height: 40px;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 10px;
      box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.2),
        -5px -5px 10px rgb(240, 240, 240, 1);

      &:hover {
        cursor: pointer;
        box-shadow: 0 0 0 rgba(0, 0, 0, 0.2), 0 0 0 rgb(240, 240, 240, 0.8),
          inset 5px 5px 10px rgba(0, 0, 0, 0.1),
          inset -5px -5px 10px rgba(240, 240, 240, 1);
      }
    }
  }

  .nickname {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 10px;
    color: #2e95fb;
    cursor: pointer;

    .nickname-svg {
      display: flex;
      align-items: center;
      margin: 0;
    }

    img {
      height: 100%;
    }

    span {
      font-size: 14px;
      margin-left: 10px;
    }
  }
}
</style>